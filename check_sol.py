import glob

T = {
0: (1200, 100), 
1: (1200, 200), 
2: (1200, 300), 
3: (1200, 400), 
4: (1200, 500), 
5: (1200, 1000), 
6: (2400, 100), 
7: (2400, 200), 
8: (2400, 300), 
9: (2400, 400), 
10: (2400, 500), 
11: (2400, 1000), 
12: (3360, 100), 
13: (3360, 200), 
14: (3360, 300), 
15: (3360, 400), 
16: (3360, 500), 
17: (3360, 1000), 
18: (4080, 100), 
19: (4080, 200), 
20: (4080, 300), 
21: (4080, 400), 
22: (4080, 500), 
23: (4080, 1000), 
24: (4800, 100), 
25: (4800, 200), 
26: (4800, 300), 
27: (4800, 400), 
28: (4800, 500), 
29: (4800, 1000), 
30: (6000, 100), 
31: (6000, 200), 
32: (6000, 300), 
33: (6000, 400), 
34: (6000, 500), 
35: (6000, 1000)}

T_inv = {v:k for k, v in T.iteritems()}

sols = glob.glob('Results_HV96QO/Case_1/*/Sol*')

def sol(s):
    with open(s,'r') as f:
        put_line, pick_line = (l for l in f.readlines() if 'Best' in l)
        put, pick = int(put_line.split()[-1]), int(pick_line.split()[-1])
        return put, pick

S = {k: 0 for k in T}

for f in sols:
    put, pick = sol(f)
    tech = T_inv[put, pick]
    S[tech] += 1
    
S_prime = {k:v for k,v in S.iteritems() if v > 0}    
